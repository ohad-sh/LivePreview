document.addEventListener("DOMContentLoaded",function(){var g=document.getElementById("html"),i=document.getElementById("css"),b=document.getElementById("frame"),l=b.contentDocument.head,h=b.contentDocument.body;if(window.localStorage){if(!localStorage.getItem("html_val")){var e='<div id="frame-message">This is the pallet, the world to <strong>your</strong> code.</div>\n\n\n<p>You may now clear all fields and begin writing your own HTML and CSS code.<br>\n\n<em>LivePreview &mdash; A front end playground.</em></p>',d='#frame-message {\nbackground: whitesmoke;\nborder: 1px solid lightgray;\npadding: 10px;\nfont-family: arial;\nfont-weight: lighter;\ntext-align: center;\nfont-style: italic;\nfont-size: 2em;\n}\n\n#frame-message:before {\n content: "\\201c"; \n font-size: 30px;\n}\n\n#frame-message:after {\n content: "\\201d"; \n font-size: 30px;\n}\n\np {\n font-family: sans-serif; \n text-align: center;\n}';localStorage.setItem("html_val",e);}if(!localStorage.getItem("css_val")){localStorage.setItem("css_val",d);}}var k=CodeMirror.fromTextArea(g,{mode:"htmlmixed",value:this.value,lineWrapping:true});var j=CodeMirror.fromTextArea(i,{mode:"css",value:this.value,lineWrapping:true});var m=document.querySelectorAll(".CodeMirror")[0],f=document.querySelectorAll(".CodeMirror")[1];m.setAttribute("id","html");f.setAttribute("id","css");var a=document.createElement("style"),c=document.createElement("div");c.setAttribute("name","HTML-Content");m.onkeyup=function(){if(window.localStorage){localStorage.setItem("html_val",k.getValue());c.innerHTML=localStorage.getItem("html_val");}else{c.innerHTML=k.getValue();}};f.onkeyup=function(){if(window.localStorage){localStorage.setItem("css_val",j.getValue());a.innerText=localStorage.getItem("css_val").replace(/\n/g,"");}else{a.innerText=j.getValue().replace(/\n/g,"");}};if(window.localStorage){if(localStorage.getItem("html_val")){k.setValue(localStorage.getItem("html_val"));c.innerHTML=localStorage.getItem("html_val");}if(localStorage.getItem("css_val")){j.setValue(localStorage.getItem("css_val"));a.innerText=localStorage.getItem("css_val").replace(/\n/g,"");}}else{c.innerHTML=k.getValue();a.innerText=j.getValue().replace(/\n/g,"");}h.appendChild(c);l.appendChild(a);},false);